using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PrevEnemy : Controller
{
    Direction d;
    PlayerController player;

    public override void MoveScheme()
    {
        if (d == Direction.down)
            d = Direction.down;
        else if (d == Direction.up)
            d = Direction.up;
        else if (d == Direction.left)
            d = Direction.left;
        else if (d == Direction.right)
            d = Direction.right;
        Vector2 dist = GetDistance(d);
        if (dist.magnitude == 0 && !CanMove)
        {
            dist = player.GetNextNode().transform.position - this.transform.position;
        }
        else if(dist.magnitude == 0 && !CanMove && getCurrentNode()==player.getNextNode())
        {
            dist = player.GetCurrentNode().transform.position - this.transform.position;
        }
        else if ((dist.magnitude == 0 && CanMove) || dist.magnitude == Mathf.Infinity)
        {
            dist = new Vector2(0, 0);
        }
        Move(dist);
    }

    // Update is called once per frame
    void Update()
    {
        MoveScheme();
    }
}
